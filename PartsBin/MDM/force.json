{"id":0,"registry":{"0":{"shape":{"__isSmartRef__":true,"id":1},"submorphs":[],"scripts":[],"_ClipMode":"auto","derivationIds":["3ABFAB66-3E1D-4B57-B4D3-DBF0D37DCE60","D3CB6A05-D42B-419A-992D-1DDF9DDED959","034779AD-D220-487C-A85D-C8C72ED576E0","A62D47E6-D416-4F59-9C68-57A81AD83D78","BB1E8F0A-1B78-4495-8183-2963623C8644"],"id":"D9FE6538-54A5-43FE-9E53-F9EC432B0F7F","droppingEnabled":true,"halosEnabled":true,"_StyleClassNames":["Morph","HtmlWrapperMorph","selectable"],"eventHandler":{"__isSmartRef__":true,"id":2},"showsHalos":false,"partsBinMetaInfo":{"__isSmartRef__":true,"id":3},"name":"force","prevScroll":[0,0],"htmlString":"<div style=\"margin: 10px\">\n  <h2>This content is plain HTML</h2>\n  <p>This is a <span style=\"cursor: pointer; color:green; text-decoration: underline\" onclick=\"lively.ide.browse('lively.morphic.HtmlWrapperMorph', null, 'lively.morphic.AdditionalMorphs')\">HTMLWrapperMorph</span> that allows to embed pure HTML in Lively.</p>\n</div>\n","isBeingDragged":false,"chart":[[]],"__serializedExpressions__":["_Position","distanceToDragEvent"],"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":12},"__LivelyClassName__":"lively.morphic.HtmlWrapperMorph","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","_Position":"lively.pt(0.0,0.0)","distanceToDragEvent":"lively.pt(282.0,23.0)"},"1":{"_BorderWidth":0,"stringifiedShapeNode":"<div xmlns=\"http://www.w3.org/1999/xhtml\" data-lively-morphid=\"D9FE6538-54A5-43FE-9E53-F9EC432B0F7F\" class=\"Morph HtmlWrapperMorph selectable\" id=\"null\" style=\"overflow: auto; border: 0px solid rgb(204, 0, 0); padding: 0px; width: 320px; height: 251px; position: absolute; left: 0px; top: 0px;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"320\" height=\"251\"><line x1=\"208.79972650520912\" y1=\"87.51782889030392\" x2=\"163.35584319829354\" y2=\"87.9853360750046\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"208.79972650520912\" y1=\"87.51782889030392\" x2=\"155.5591954521085\" y2=\"101.37178918920625\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"208.79972650520912\" y1=\"87.51782889030392\" x2=\"212.37644999699492\" y2=\"141.76371840768874\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"208.79972650520912\" y1=\"87.51782889030392\" x2=\"251.39403591375986\" y2=\"113.42162826791044\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"163.35584319829354\" y1=\"87.9853360750046\" x2=\"173.52837304739703\" y2=\"147.38683256514636\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"155.5591954521085\" y1=\"101.37178918920625\" x2=\"173.52837304739703\" y2=\"147.38683256514636\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"155.5591954521085\" y1=\"101.37178918920625\" x2=\"173.52837304739703\" y2=\"147.38683256514636\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"212.37644999699492\" y1=\"141.76371840768874\" x2=\"251.39403591375986\" y2=\"113.42162826791044\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"173.52837304739703\" y1=\"147.38683256514636\" x2=\"131.8350224842781\" y2=\"174.3104427877757\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"173.52837304739703\" y1=\"147.38683256514636\" x2=\"127.82663078146174\" y2=\"123.24628198886634\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"91.62514587452733\" y1=\"183.4839148702168\" x2=\"94.39802760093887\" y2=\"134.07259586237527\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"94.39802760093887\" y1=\"134.07259586237527\" x2=\"131.8350224842781\" y2=\"174.3104427877757\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><line x1=\"131.8350224842781\" y1=\"174.3104427877757\" x2=\"127.82663078146174\" y2=\"123.24628198886634\" style=\"stroke: rgb(204, 204, 204); stroke-width: 1px;\"/><circle r=\"10\" style=\"fill: rgb(31, 119, 180);\" cx=\"208.79972650520912\" cy=\"87.51782889030392\"/><circle r=\"10\" style=\"fill: rgb(255, 127, 14);\" cx=\"163.35584319829354\" cy=\"87.9853360750046\"/><circle r=\"10\" style=\"fill: rgb(44, 160, 44);\" cx=\"155.5591954521085\" cy=\"101.37178918920625\"/><circle r=\"10\" style=\"fill: rgb(214, 39, 40);\" cx=\"212.37644999699492\" cy=\"141.76371840768874\"/><circle r=\"10\" style=\"fill: rgb(148, 103, 189);\" cx=\"251.39403591375986\" cy=\"113.42162826791044\"/><circle r=\"10\" style=\"fill: rgb(140, 86, 75);\" cx=\"173.52837304739703\" cy=\"147.38683256514636\"/><circle r=\"10\" style=\"fill: rgb(227, 119, 194);\" cx=\"91.62514587452733\" cy=\"183.4839148702168\"/><circle r=\"10\" style=\"fill: rgb(127, 127, 127);\" cx=\"94.39802760093887\" cy=\"134.07259586237527\"/><circle r=\"10\" style=\"fill: rgb(188, 189, 34);\" cx=\"131.8350224842781\" cy=\"174.3104427877757\"/><circle r=\"10\" style=\"fill: rgb(23, 190, 207);\" cx=\"127.82663078146174\" cy=\"123.24628198886634\"/></svg></div>","_AppearanceStylingMode":true,"__serializedExpressions__":["_Padding","_Position","_Extent","_Fill","extent"],"__LivelyClassName__":"lively.morphic.Shapes.External","__SourceModuleName__":"Global.lively.morphic.Shapes","_Padding":"lively.rect(0,0,0,0)","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(320.0,251.0)","_Fill":"Color.rgb(200,200,200)","extent":"lively.pt(320.0,251.0)"},"2":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"3":{"partName":"force","requiredModules":[],"partsSpaceName":"PartsBin/MDM/","comment":"A morph that renders arbitrary HTML. Makes integrations of non-morphic content straightforward. Look inside the menu to open an HTML editor or export the content as an HTML document.","changes":[{"__isSmartRef__":true,"id":4},{"__isSmartRef__":true,"id":5},{"__isSmartRef__":true,"id":6},{"__isSmartRef__":true,"id":7},{"__isSmartRef__":true,"id":8},{"__isSmartRef__":true,"id":9},{"__isSmartRef__":true,"id":10},{"__isSmartRef__":true,"id":11}],"migrationLevel":9,"__serializedExpressions__":["lastModifiedDate"],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin","lastModifiedDate":"new Date(\"Thu Jun 04 2015 14:27:27 GMT-0700 (PDT)\")"},"4":{"author":"robertkrahn","message":"Fixed reset as suggested by Rick. Thanks Rick!","id":"C9389773-D839-4E3C-AF10-28F6282541BB","__serializedExpressions__":["date"],"date":"new Date(\"Thu Jul 17 2014 12:02:10 GMT-0700 (PDT)\")"},"5":{"author":"robertkrahn","message":"no comment","id":"4B305BE4-1B35-4BBB-ABCE-D255D563CBD9","__serializedExpressions__":["date"],"date":"new Date(\"Wed Feb 12 2014 15:34:42 GMT-0800 (PST)\")"},"6":{"author":"robertkrahn","message":"no comment","id":"FC45EDD5-3632-41E9-8CCF-1E7BF0F5B7FA","__serializedExpressions__":["date"],"date":"new Date(\"Wed Feb 12 2014 15:35:06 GMT-0800 (PST)\")"},"7":{"author":"robertkrahn","message":"clipped","id":"D4A9A56A-16E6-4D3D-9B42-425F9CE8E8B6","__serializedExpressions__":["date"],"date":"new Date(\"Wed Feb 12 2014 16:29:30 GMT-0800 (PST)\")"},"8":{"author":"robertkrahn","message":"clipped","id":"287FA9C0-4815-46CD-B588-28102199A3F0","__serializedExpressions__":["date"],"date":"new Date(\"Wed Feb 12 2014 16:29:38 GMT-0800 (PST)\")"},"9":{"author":"rick","message":"added a few helper scripts","id":"A9AF9642-F781-4A08-A0D1-9590A65517C0","__serializedExpressions__":["date"],"date":"new Date(\"Fri Sep 05 2014 08:25:26 GMT-0700 (PDT)\")"},"10":{"author":"Alexia","message":"no comment","id":"6DEBC446-5DD8-46D5-ACE3-23AB73F8DA1F","__serializedExpressions__":["date"],"date":"new Date(\"Thu Jun 04 2015 14:27:27 GMT-0700 (PDT)\")"},"11":{"__serializedExpressions__":["date"],"author":"Alexia","message":"no comment","id":"58743CE7-E583-404F-AA30-AAA2844EAC80","date":"new Date(\"Tue Jun 09 2015 15:35:21 GMT-0700 (PDT)\")"},"12":{"getChart":{"__isSmartRef__":true,"id":13},"draw":{"__isSmartRef__":true,"id":16},"loadD3":{"__isSmartRef__":true,"id":19},"onLoad":{"__isSmartRef__":true,"id":22}},"13":{"varMapping":{"__isSmartRef__":true,"id":14},"source":"function getChart() {\n\treturn Global.d3.select(this.renderContext().shapeNode);\n}","funcProperties":{"__isSmartRef__":true,"id":15},"__LivelyClassName__":"lively.Closure"},"14":{"this":{"__isSmartRef__":true,"id":0}},"15":{"user":"Alexia","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Jun 04 2015 14:03:31 GMT-0700 (PDT)\")"},"16":{"varMapping":{"__isSmartRef__":true,"id":17},"source":"function draw() {\n\t//\tthis.chart = null;\n\tif (!this.chart) this.chart = this.getChart();\n\tthis.chart.selectAll(\"svg\").remove();\n\n\t//this.chart = $morph('chart');\n\tvar w = this.getExtent().x;\n\tvar h = this.getExtent().y;\n\tvar dataset = { nodes: [{ name: \"Adam\" }, { name: \"Bob\" }, { name: \"Carrie\" }, { name: \"Donovan\" }, { name: \"Edward\" }, { name: \"Felicity\" }, { name: \"George\" }, { name: \"Hannah\" }, { name: \"Iris\" }, { name: \"Jerry\" }],\n\t\tedges: [{ source: 0, target: 1 }, { source: 0, target: 2 }, { source: 0, target: 3 }, { source: 0, target: 4 }, { source: 1, target: 5 }, { source: 2, target: 5 }, { source: 2, target: 5 }, { source: 3, target: 4 }, { source: 5, target: 8 }, { source: 5, target: 9 }, { source: 6, target: 7 }, { source: 7, target: 8 }, { source: 8, target: 9 }]\n\t};\n\n\t//Initialize a default force layout, using the nodes and edges in dataset\n\tvar force = Global.d3.layout.force().nodes(dataset.nodes).links(dataset.edges).size([w, h]).linkDistance([50]).charge([-100]).start();\n\n\tvar colors = Global.d3.scale.category10();\n\n\t//Create SVG element\n\talert(this.chart);\n\talert(this.renderContext().shapeNode);\n\tvar svg = this.chart.append(\"svg\").attr(\"width\", w).attr(\"height\", h);\n\n\t//Create edges as lines\n\tvar edges = svg.selectAll(\"line\").data(dataset.edges).enter().append(\"line\").style(\"stroke\", \"#ccc\").style(\"stroke-width\", 1);\n\n\t//Create nodes as circles\n\tvar nodes = svg.selectAll(\"circle\").data(dataset.nodes).enter().append(\"circle\").attr(\"r\", 10).style(\"fill\", function (d, i) {\n\t\treturn colors(i);\n\t}).call(force.drag);\n\n\t//Every time the simulation \"ticks\", this will be called\n\tforce.on(\"tick\", function () {\n\t\tedges.attr(\"x1\", function (d) {\n\t\t\treturn d.source.x;\n\t\t}).attr(\"y1\", function (d) {\n\t\t\treturn d.source.y;\n\t\t}).attr(\"x2\", function (d) {\n\t\t\treturn d.target.x;\n\t\t}).attr(\"y2\", function (d) {\n\t\t\treturn d.target.y;\n\t\t});\n\n\t\tnodes.attr(\"cx\", function (d) {\n\t\t\treturn d.x;\n\t\t}).attr(\"cy\", function (d) {\n\t\t\treturn d.y;\n\t\t});\n\t});\n}","funcProperties":{"__isSmartRef__":true,"id":18},"__LivelyClassName__":"lively.Closure"},"17":{"this":{"__isSmartRef__":true,"id":0}},"18":{"user":"Alexia","__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Thu Jun 04 2015 14:22:06 GMT-0700 (PDT)\")"},"19":{"varMapping":{"__isSmartRef__":true,"id":20},"source":"function loadD3(loadAttemptCount, thenDo) {\n    var self = this;\n    var maxLoadAttemptCount = 5;\n    var d3URL = '//cdnjs.cloudflare.com/ajax/libs/d3/3.4.6/d3.js';\n    if (!loadAttemptCount) loadAttemptCount = 1;\n    Global.$('script[src=\"' + d3URL + '\"]').remove();\n    Global.JSLoader.loadJs(d3URL);\n    Functions.waitFor(5 * 1000, function () {\n        return typeof Global.d3 !== 'undefined';\n    }, function (err) {\n        var msg;\n        if (err && loadAttemptCount < maxLoadAttemptCount) {\n            msg = Strings.format('Loading d3, attempt %s timed out.\\nTrying again...', loadAttemptCount);\n            $world.setStatusMessage(msg, Global.Color.yellow, 5);\n            self.loadD3(loadAttemptCount + 1);\n            return;\n        }\n        if (err) {\n            msg = Strings.format('Cannot load d3 library.\\nSorry, d3 isn\\'t available right now.', loadAttemptCount);\n            $world.setStatusMessage(msg, Global.Color.red, 10);\n            return;\n        }\n        msg = Strings.format('d3 loaded!', loadAttemptCount);\n        $world.setStatusMessage(msg, Global.Color.green, 4);\n        thenDo && thenDo();\n        lively.bindings.signal(this, 'd3Loaded');\n    });\n}","funcProperties":{"__isSmartRef__":true,"id":21},"__LivelyClassName__":"lively.Closure"},"20":{"this":{"__isSmartRef__":true,"id":0}},"21":{"__serializedExpressions__":["timestamp"],"user":"Alexia","timestamp":"new Date(\"Tue Jun 09 2015 15:34:55 GMT-0700 (PDT)\")"},"22":{"varMapping":{"__isSmartRef__":true,"id":23},"source":"function onLoad() {\n    this.loadD3();\n}","funcProperties":{"__isSmartRef__":true,"id":24},"__LivelyClassName__":"lively.Closure"},"23":{"this":{"__isSmartRef__":true,"id":0}},"24":{"__serializedExpressions__":["timestamp"],"user":"Alexia","tags":[],"timestamp":"new Date(\"Tue Jun 09 2015 15:35:13 GMT-0700 (PDT)\")"},"isSimplifiedRegistry":true}}